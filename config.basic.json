{
  "ig": {
    "id": "csiro.fhir.au.smartforms",
    "name": "Smart Health Checks Implementation Guide",
    "cs_profile_url": "https://smartforms.csiro.au/ig/CapabilityStatement/SHCHostFHIRServerCapabilityStatement",
    "cs_version_specific_url": "https://smartforms.csiro.au/ig/CapabilityStatement/SHCHostFHIRServerCapabilityStatement"
  },
  "suite": {
    "title": "Smart Health Checks",
    "extra_json_paths": [
      "search-params.json",
      "example-resources.json",
      "patch-bundle.json",
      "assets-bundle.json"
    ],
    "tx_server_url": "https://tx.dev.hl7.org.au/fhir",
    "extra_imports": [
      {
        "import_type": "relative",
        "import_path": "../../ext/fhir_client_request_patch_payload"
      },
      {
        "import_type": "relative",
        "import_path": "../../ext/crud"
      },
      {
        "import_type": "relative",
        "import_path": "../../ext/patch_format"
      }
    ],
    "outer_groups": [
      {
        "import_type": "relative",
        "import_path": "../../outer_groups/teardown",
        "group_position": "after",
        "group_id": "smart_health_checks_v030_draft_teardown"
      }
    ],
    "links": [
      {
        "label": "Report Issue",
        "url": "https://github.com/aehrc/smart-health-checks-inferno/issues"
      },
      {
        "label": "Source Code",
        "url": "https://github.com/aehrc/smart-health-checks-inferno"
      },
      {
        "label": "Implementation Guide",
        "url": "https://build.fhir.org/ig/aehrc/smart-forms-ig/index.html"
      }
    ]
  },
  "constants": {
    "default_fhir_server": "https://proxy.smartforms.io/fhir",
    "read_ids.patient": "pat-sf",
    "read_ids.encounter": "health-check-pat-sf",
    "read_ids.practitioner": "primary-peter"
  },
  "configs": {
    "generic": {
      "expectation": ["SHALL", "SHOULD", "MAY"],
      "search_params_to_ignore": ["_count", "_sort", "_include"]
    },
    "profiles": {
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCBloodPressure": {
        "filter_set": [
          [
            {
              "expression": "code.coding.where(system = 'http://loinc.org').code",
              "value": "85354-9"
            }
          ],
          [
            {
              "expression": "code.coding.where(system = 'http://snomed.info/sct').code",
              "value": "75367002"
            }
          ]
        ]
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCBodyHeight": {
        "filter_set": [
          [
            {
              "expression": "code.coding.where(system = 'http://loinc.org').code",
              "value": "8302-2"
            }
          ],
          [
            {
              "expression": "code.coding.where(system = 'http://snomed.info/sct').code",
              "value": "50373000"
            }
          ]
        ]
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCBodyWeight": {
        "filter_set": [
          [
            {
              "expression": "code.coding.where(system = 'http://loinc.org').code",
              "value": "29463-7"
            }
          ],
          [
            {
              "expression": "code.coding.where(system = 'http://snomed.info/sct').code",
              "value": "27113001"
            }
          ]
        ]
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCHeartRate": {
        "filter_set": [
          [
            {
              "expression": "code.coding.where(system = 'http://loinc.org').code",
              "value": "8867-4"
            }
          ],
          [
            {
              "expression": "code.coding.where(system = 'http://snomed.info/sct').code",
              "value": "364075005"
            }
          ]
        ]
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCSmokingStatus": {
        "filter_set": [
          [
            {
              "expression": "code.coding.where(system = 'http://loinc.org').code",
              "value": "72166-2"
            }
          ],
          [
            {
              "expression": "code.coding.where(system = 'http://snomed.info/sct').code",
              "value": "1747861000168109"
            }
          ]
        ]
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCWaistCircumference": {
        "filter_set": [
          [
            {
              "expression": "code.coding.where(system = 'http://loinc.org').code",
              "value": "8280-0"
            }
          ],
          [
            {
              "expression": "code.coding.where(system = 'http://snomed.info/sct').code",
              "value": "276361009"
            }
          ]
        ]
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCHeadCircumference": {
        "filter_set": [
          [
            {
              "expression": "code.coding.where(system = 'http://loinc.org').code",
              "value": "9843-4"
            }
          ],
          [
            {
              "expression": "code.coding.where(system = 'http://snomed.info/sct').code",
              "value": "363812007"
            }
          ]
        ]
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCPatient": {
        "first_class_profile": "read"
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCPractitioner": {
        "first_class_profile": "read"
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCEncounter": {
        "first_class_profile": "read"
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCHeartRhythm": {
        "filter_set": [
          [
            {
              "expression": "code.coding.where(system = 'http://loinc.org').code",
              "value": "8884-9"
            }
          ],
          [
            {
              "expression": "code.coding.where(system = 'http://snomed.info/sct').code",
              "value": "364074009"
            }
          ]
        ],
        "register_extractors": [
          {
            "path_to_extractor": "lib/smart_health_checks_test_kit/extractors/hr_ms_values/extractor.rb",
            "extractor_class": "InfernoSuiteGenerator::Generator::HRMSValuesExtractor",
            "extractor_type": "must_support"
          }
        ]
      },
      "https://smartforms.csiro.au/ig/StructureDefinition/SHCPathologyResult": {
        "search_param": {
          "clinical-code": {
            "default_values": ["32309-7"]
          }
        }
      }
    },
    "resources": {
      "MedicationStatement": {
        "resources_to_create_filter": "MedicationStatement.medicationCodeableConcept.exists()"
      },
      "Medication": {
        "skip": true
      },
      "DiagnosticReport": {
        "skip": true
      },
      "Bundle": {
        "skip": true
      },
      "Parameters": {
        "skip": true
      }
    }
  }
}
